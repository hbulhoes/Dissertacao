%!TEX root = Projeto.tex
\section{Motivação}

% ---- NOVA RE-ESCRITA. INÍCIO
%Assim, tem que começar...a segurança da informação na web é há muito tempo uma preocupação..bla bla bla bla bla..conte histórias...cite vários trabalhos já realizados contra cross site scripting por exemplo. Depois... tem que mostrar que pesquisou. Isso mexerá nas referência também, mas tem que mexer. É um ponto crítico.

O software navegador é um ponto de convergência da informação na web. Seus usuários dependem dele para trabalhar, estudar e facilitar tarefas, e também para a comunicação e o entretenimento. Essas aplicações são causa e consequência da evolução do \textit{web browser}, que ao longo do tempo se transformou em uma plataforma para a distribuição de software. Hoje, muito distante de um simples navegador de conteúdo, o \textit{browser} provê recursos capazes não apenas de capturar, transmitir e apresentar informação, mas também de executar programas (\scripts{}) destinados ao enriquecimento da experiência do usuário e ao compartilhamento de informação.

O amplo escopo das funcionalidades do navegador, potencializado por sua utilização maciça, torna esse software um alvo para ataques à confidencialidade e à integridade da informação que circula pelas aplicações da web. A Fundação OWASP, organização internacional de apoio ao desenvolvimento de aplicações confiáveis, incluiu a exposição de dados confidenciais e a ocorrência de \scripts{} ``cross-site'' \poe{(XSS -- Cross-Site Scripring)} em sua lista das dez maiores ameaças à segurança das aplicações, edição 2017 \cite{OWASP:Top10}. Ambos os riscos se apoiam em vulnerabilidades do navegador. \dubious{FonteA indica que X\% dos usuários já estiveram vulneráveis ao vazamento de informações pessoais durante o uso de um navegador, enquanto FonteB estima que cerca de N ataques à segurança da informação ocorrem durante (periodicidade)}. Em resposta, a comunidade de desenvolvimento dos \textit{browsers} incorporou ao software diversos mecanismos para a defesa de seus usuários. Porém, problemas fundamentais, originadores de vulnerabilidades, permanecem intrínsecos às arquiteturas dos navegadores, perpetuando riscos.

Assim, o software navegador é vetor de uma variedade de ataques à segurança da informação. Tais ataques são fundamentados em tecnologias que, ao mesmo tempo em que dão poder aos desenvolvedores de aplicações web, também tornam possíveis o vazamento e adulteração de dados. Elementos de composição de página como Javascript, \textit{frames}, aplicativos Java e conteúdo em Flash levam a experiência de usuário na web a um patamar mais elevado em termos de funcionalidade, porém mais perigoso no que diz respeito ao conjunto de vulnerabilidades aproveitáveis por fraudadores e \textit{hackers}. Ademais, esses elementos de página também não foram concebidos com políticas de segurança claras e consistentes. Nessas circunstâncias, a segurança das aplicações web complexas se baseia mais na confiança que seus autores depositam em seus componentes do que em políticas de segurança coerentes estabelecidas pelos navegadores.

Recursos \dubious{reiteradamente vulneráveis (cit?)}, aplicativos para Java e Flash acabaram em desuso, e os navegadores deixaram de oferecer suporte nativo a essas tecnologias \cite{Verge2016, Adobe2017}. Javascript, ao contrário, cresceu em funcionalidade e popularidade entre os desenvolvedores, impulsionando uma forma de aplicação web marcada pelo \textit{conteúdo ativo}. O conteúdo ativo tira proveito de uma característica dos navegadores chamada de DOM (\textit{Document Object Model}), uma interface de programação que permite a manipulação do conteúdo das páginas por {\scripts}. É relevante destacar que \scripts{} podem ser carregados pelo navegador a partir de múltiplas origens -- \textit{sites} diferentes daquele que hospeda a aplicação principal. Um exemplo desse tipo de conteúdo pode ser encontrado em \textit{blogs} e \textit{sites} jornalísticos, dentro dos quais podem ser incorporados anúncios provenientes de \textit{sites} de serviços publicitários. Nesses casos, o navegador cria um contexto de execução compartilhado onde tais {\scripts} de múltiplas origens têm acesso a toda informação contida nas páginas e que podem interferir uns com os outros. Desta característica surgiram alguns dos problemas que motivam a existência deste trabalho.

Um dos problemas, o já citado \textit{cross-site scripting} (XSS), caracteriza-se pelo redirecionamento de informação sigilosa para \textit{sites} não confiáveis. \textit{Sites} como MySpace.com e Twitter já foram alvo desse tipo de ataque \cite{IBM2017}, assim como o comércio eletrônico E-Bay \cite{Vanunu2016}. Contra XSS não existe uma forma universal de prevenção: cada aplicação web deve se precaver para que {\scripts} maliciosos não sejam ativados. Mas ainda que as devidas precauções sejam tomadas, nada impedirá que o navegador carregue {\scripts} adulterados sem conhecimento dos autores de uma página, como ocorreu com o \textit{bureau} de crédito norte-americano Equifax \cite{Segura2017} e na invasão e adulteração de {\scripts} da rede de distribuição de conteúdo BootstrapCDN \cite{Dorfman2013}. Em ambos os casos, os servidores de hospedagem de alguns {\scripts} foram invadidos e passaram a publicar conteúdo ativo impróprio. %Mesmo as extensões do navegador proporcionam outros meios de ataques, rotineiramente explorados \cite{Forrest2017}.

% Contextualizar: por que é importante um esforço para ajudar o desenvolvedor na proteção do conteúdo no navegador?
Assim, o desenvolvimento de uma aplicação segura para a web demanda esforços para que seja evitada a exposição e a manipulação indevidas das informações do usuário. Para esse propósito, o desenvolvedor conta com um conjunto de práticas e recomendações estabelecidas, efetivamente protegendo a aplicação e seus usuários de uma série de vulnerabilidades. Pelo lado dos desenvolvedores de navegadores, o estabelecimento de conjuntos de regras como a SOP (\textit{same-origin policy}), e de protocolos como o CORS (\textit{cross-origin resource sharing}) elevam a capacidade do navegador em manter um ambiente de execução seguro.%Ambos se baseiam na noção do ``domínio'' como identificador da origem e, por consequência, da confiabilidade de um recurso: o domínio da página, denotado pela combinação do \textit{protocolo}, \textit{nome do host} e \textit{porta TCP} de onde o navegador requisitou o conteúdo carregado, é tido como o mais confiável, enquanto recursos requisitados de domínios diferentes são considerados menos confiáveis.
%CORS, por exemplo, foi destacado por \cite{DeRyck2012} em sua avaliação de mecanismos de segurança no navegador, na qual diversos dos mecanismos disponíveis são comparados segundo quatro categorias de requisitos -- Separação, Interação, Comunicação e Controle do Comportamento.

Contudo, tal ambiente é protegido dentro da condição de que todo conteúdo ativo carregado por uma aplicação está sob o conhecimento e confiança de seu desenvolvedor. Centralmente, o DOM, estrutura volátil em que persistem informações dos usuários, permanece exposto a {\scripts} mal-intencionados ou mal-escritos, executados em contexto da página ou como extensões do navegador \cite{Heule2015_Most_Dangerous_Code}. Criar um {\script} destinado a ler o conteúdo potencialmente sigiloso no DOM e revelá-lo a terceiros não autorizados é uma tarefa que exige pouca habilidade e que pode passar despercebida pelo aparato de segurança disponível, incluindo as restrições de SOP e CORS.

% Contextualizar: o que tem sido feito nessa direção, em termos de experimentos?
Uma das formas propostas para a solução dessas inconsistências seria a introdução de um modelo de segurança que permitisse o monitoramento do fluxo da informação na linguagem Javascript \cite[p.3]{Heule2015_IFC_Inside}. Dessa forma, toda manipulação de dados dependeria de uma validação dos contextos de segurança atribuídos ao dado e aos recipientes envolvidos. Isso impediria, por exemplo, que informações sensíveis armazenadas em um nó do DOM fossem lidas e transmitidas para endereços da web desautorizados -- um impedimento que seria obedecido não de forma discricionária, imperativa, mas de modo mandatório, declarativo e integrado ao \textit{runtime} da linguagem. Essa abordagem, conhecida pela sigla IFC (\textit{information flow control}), não é compatível com a implementação da linguagem Javascript incluída nos navegadores existentes. Incipientemente, mecanismos de suporte ao IFC são implementados em navegadores experimentais \cite{Hedin2014, Bichhawat2014}, o que impede sua adoção maciça.

% Contextualizar: como esta proposta contribui?
Assim, se os meios existentes para proteção contra o vazamento de informação contida no DOM são insuficientes, e se um mecanismo robusto como o IFC ainda não tenha sido incorporado aos navegadores tradicionais, pode ser importante propor uma abordagem que desse ao desenvolvedor um mecanismo que, embora discricionário, implementasse uma barreira que impedisse o acesso não prescrito aos nós, ou regiões, do DOM, a critério do desenvolvedor. Isso tornou-se uma possibilidade com a introdução de APIs como a de suporte ao \textit{Shadow DOM} \cite{W3C:ShadowDOM}, que fornecem um grau de inviolabilidade de acesso à informação em determinados contextos de programação de \scripts{} no navegador. Aplicando esses recursos, este trabalho propõe uma melhoria da segurança da informação baseada em APIs padronizadas, imediatamente disponíveis aos desenvolvedores e usuários, sem lançar mão de tecnologias experimentais.